<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Webpack 3.0 | Welcome to KivenBlog</title>
    <meta name="generator" content="VuePress 1.5.4">
    <link rel="icon" href="/kiven.ico">
    <link rel="manifest" href="/manifest.json">
    <meta name="description" content="Record learning hobbies">
    <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no">
    <meta name="theme-color" content="#b532b6">
    <link rel="preload" href="/assets/css/0.styles.3896bed5.css" as="style"><link rel="preload" href="/assets/js/app.60db5213.js" as="script"><link rel="preload" href="/assets/js/3.03a1a095.js" as="script"><link rel="preload" href="/assets/js/1.e1fdcf98.js" as="script"><link rel="preload" href="/assets/js/30.9622dc18.js" as="script"><link rel="preload" href="/assets/js/8.7fc5536e.js" as="script"><link rel="prefetch" href="/assets/js/10.858f5fe0.js"><link rel="prefetch" href="/assets/js/11.244dcefc.js"><link rel="prefetch" href="/assets/js/12.e0e293e1.js"><link rel="prefetch" href="/assets/js/13.237c70bb.js"><link rel="prefetch" href="/assets/js/14.1b8b9def.js"><link rel="prefetch" href="/assets/js/15.5a9fa8fd.js"><link rel="prefetch" href="/assets/js/16.7830ebec.js"><link rel="prefetch" href="/assets/js/17.7d2e8db1.js"><link rel="prefetch" href="/assets/js/18.cf1dc0af.js"><link rel="prefetch" href="/assets/js/19.fcf41ac6.js"><link rel="prefetch" href="/assets/js/20.b7a4a42a.js"><link rel="prefetch" href="/assets/js/21.2f745257.js"><link rel="prefetch" href="/assets/js/22.c9766348.js"><link rel="prefetch" href="/assets/js/23.f894edf8.js"><link rel="prefetch" href="/assets/js/24.33d53f67.js"><link rel="prefetch" href="/assets/js/25.859b0313.js"><link rel="prefetch" href="/assets/js/26.441115dd.js"><link rel="prefetch" href="/assets/js/27.f838f4cd.js"><link rel="prefetch" href="/assets/js/28.005ffb27.js"><link rel="prefetch" href="/assets/js/29.903a7845.js"><link rel="prefetch" href="/assets/js/4.67de951c.js"><link rel="prefetch" href="/assets/js/5.4452e821.js"><link rel="prefetch" href="/assets/js/6.5ceba33a.js"><link rel="prefetch" href="/assets/js/7.0c039431.js"><link rel="prefetch" href="/assets/js/9.e473b028.js">
    <link rel="stylesheet" href="/assets/css/0.styles.3896bed5.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container" data-v-2d5f533b><div data-v-2d5f533b><div id="loader-wrapper" class="loading-wrapper" data-v-d48f4d20 data-v-2d5f533b data-v-2d5f533b><div class="loader-main" data-v-d48f4d20><div data-v-d48f4d20></div><div data-v-d48f4d20></div><div data-v-d48f4d20></div><div data-v-d48f4d20></div></div> <!----> <!----></div> <div class="password-shadow password-wrapper-out" style="display:none;" data-v-64685f0e data-v-2d5f533b data-v-2d5f533b><h3 class="title" style="display:none;" data-v-64685f0e data-v-64685f0e>Welcome to KivenBlog</h3> <!----> <label id="box" class="inputBox" style="display:none;" data-v-64685f0e data-v-64685f0e><input type="password" value="" data-v-64685f0e> <span data-v-64685f0e>Konck! Knock!</span> <button data-v-64685f0e>OK</button></label> <div class="footer" style="display:none;" data-v-64685f0e data-v-64685f0e><span data-v-64685f0e><i class="iconfont reco-theme" data-v-64685f0e></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-64685f0e>vuePress-theme-reco</a></span> <span data-v-64685f0e><i class="iconfont reco-copyright" data-v-64685f0e></i> <a data-v-64685f0e><span data-v-64685f0e>KivenXue</span>
            
          <!---->
          2020
        </a></span></div></div> <div class="hide" data-v-2d5f533b><header class="navbar" data-v-2d5f533b><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/logo.png" alt="Welcome to KivenBlog" class="logo"> <span class="site-name">Welcome to KivenBlog</span></a> <div class="links"><div class="color-picker"><a class="color-button"><i class="iconfont reco-color"></i></a> <div class="color-picker-menu" style="display:none;"><div class="mode-options"><h4 class="title">Choose mode</h4> <ul class="color-mode-options"><li class="dark">dark</li><li class="auto active">auto</li><li class="light">light</li></ul></div></div></div> <div class="search-box"><i class="iconfont reco-search"></i> <input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link"><i class="iconfont reco-home"></i>
  Home
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-category"></i>
      Category
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/categories/Bugfix/" class="nav-link"><i class="iconfont undefined"></i>
  Bugfix
</a></li><li class="dropdown-item"><!----> <a href="/categories/Life perception/" class="nav-link"><i class="iconfont undefined"></i>
  Life perception
</a></li><li class="dropdown-item"><!----> <a href="/categories/博文/" class="nav-link"><i class="iconfont undefined"></i>
  博文
</a></li></ul></div></div><div class="nav-item"><a href="/tag/" class="nav-link"><i class="iconfont reco-tag"></i>
  Tag
</a></div><div class="nav-item"><a href="/notes/" class="nav-link router-link-active"><i class="iconfont reco-document"></i>
  Notes
</a></div><div class="nav-item"><a href="/timeline/" class="nav-link"><i class="iconfont reco-date"></i>
  TimeLine
</a></div><div class="nav-item"><a href="/Interview/" class="nav-link"><i class="iconfont reco-blog"></i>
  Interview
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-account"></i>
      About
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/recoluan" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont undefined"></i>
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask" data-v-2d5f533b></div> <aside class="sidebar" data-v-2d5f533b><div class="personal-info-wrapper" data-v-ca798c94 data-v-2d5f533b><img src="/avatar.jpg" alt="author-avatar" class="personal-img" data-v-ca798c94> <h3 class="name" data-v-ca798c94>
    KivenXue
  </h3> <div class="num" data-v-ca798c94><div data-v-ca798c94><h3 data-v-ca798c94>5</h3> <h6 data-v-ca798c94>Article</h6></div> <div data-v-ca798c94><h3 data-v-ca798c94>8</h3> <h6 data-v-ca798c94>Tag</h6></div></div> <hr data-v-ca798c94></div> <nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link"><i class="iconfont reco-home"></i>
  Home
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-category"></i>
      Category
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/categories/Bugfix/" class="nav-link"><i class="iconfont undefined"></i>
  Bugfix
</a></li><li class="dropdown-item"><!----> <a href="/categories/Life perception/" class="nav-link"><i class="iconfont undefined"></i>
  Life perception
</a></li><li class="dropdown-item"><!----> <a href="/categories/博文/" class="nav-link"><i class="iconfont undefined"></i>
  博文
</a></li></ul></div></div><div class="nav-item"><a href="/tag/" class="nav-link"><i class="iconfont reco-tag"></i>
  Tag
</a></div><div class="nav-item"><a href="/notes/" class="nav-link router-link-active"><i class="iconfont reco-document"></i>
  Notes
</a></div><div class="nav-item"><a href="/timeline/" class="nav-link"><i class="iconfont reco-date"></i>
  TimeLine
</a></div><div class="nav-item"><a href="/Interview/" class="nav-link"><i class="iconfont reco-blog"></i>
  Interview
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-account"></i>
      About
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/recoluan" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont undefined"></i>
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div> <!----></nav> <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Html5</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Css3</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>JavaScript</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>TypeScript</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Flutter</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Webpack</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/notes/Webpack3.x/webpack.html" aria-current="page" class="active sidebar-link">Webpack 3.0</a></li></ul></section></li></ul> </aside> <div class="password-shadow password-wrapper-in" style="display:none;" data-v-64685f0e data-v-2d5f533b><h3 class="title" style="display:none;" data-v-64685f0e data-v-64685f0e></h3> <!----> <label id="box" class="inputBox" style="display:none;" data-v-64685f0e data-v-64685f0e><input type="password" value="" data-v-64685f0e> <span data-v-64685f0e>Konck! Knock!</span> <button data-v-64685f0e>OK</button></label> <div class="footer" style="display:none;" data-v-64685f0e data-v-64685f0e><span data-v-64685f0e><i class="iconfont reco-theme" data-v-64685f0e></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-64685f0e>vuePress-theme-reco</a></span> <span data-v-64685f0e><i class="iconfont reco-copyright" data-v-64685f0e></i> <a data-v-64685f0e><span data-v-64685f0e>KivenXue</span>
            
          <!---->
          2020
        </a></span></div></div> <div data-v-2d5f533b><main class="page"><div class="page-title" style="display:none;"><h1 class="title">Webpack 3.0</h1> <div data-v-3b7f5bdf><i class="iconfont reco-account" data-v-3b7f5bdf><span data-v-3b7f5bdf>KivenXue</span></i> <i class="iconfont reco-date" data-v-3b7f5bdf><span data-v-3b7f5bdf>2020-12-24</span></i> <i class="iconfont reco-eye" data-v-3b7f5bdf><span id="/notes/Webpack3.x/webpack.html" data-flag-title="Your Article Title" class="leancloud-visitors" data-v-3b7f5bdf><a class="leancloud-visitors-count" style="font-size:.9rem;font-weight:normal;color:#999;"></a></span></i> <i class="iconfont reco-tag tags" data-v-3b7f5bdf><span class="tag-item" data-v-3b7f5bdf>Webpack</span></i></div></div> <div class="theme-reco-content content__default" style="display:none;"><h1 id="webpack-3-0"><a href="#webpack-3-0" class="header-anchor">#</a> Webpack 3.0</h1> <h2 id="前端为什么需要webpack"><a href="#前端为什么需要webpack" class="header-anchor">#</a> 前端为什么需要WebPack？</h2> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>前端网页功能丰富，特别是<span class="token constant">SPA</span>（single page web application 单页应用）技术流行后，

JavaScript的复杂度增加和需要一大堆依赖包，还需要解决<span class="token constant">SCSS</span>，Less……新增样式的扩展写法的编译工作。

React<span class="token punctuation">.</span>js<span class="token operator">+</span>WebPack

Vue<span class="token punctuation">.</span>js<span class="token operator">+</span>WebPack

AngluarJS<span class="token operator">+</span>WebPack
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h2 id="什么是webpack"><a href="#什么是webpack" class="header-anchor">#</a> 什么是WebPack?</h2> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>打包：可以把多个Javascript文件打包成一个文件，减少服务器压力和下载带宽。

转换：把拓展语言转换成为普通的JavaScript，让浏览器顺利运行。

优化：前端变的越来越复杂后，性能也会遇到问题，而WebPack也开始肩负起了优化和提升性能的责任。
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h1 id="安装webpack"><a href="#安装webpack" class="header-anchor">#</a> 安装WebPack</h1> <h2 id="具体安装方法"><a href="#具体安装方法" class="header-anchor">#</a> 具体安装方法：</h2> <p>用win+R打开运行对话框，输入cmd进入命令行模式。然后找到你想开始项目的地方，输入下方代码：</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>mkdir webpack_demo
cd webpack_demo
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="全局安装"><a href="#全局安装" class="header-anchor">#</a> 全局安装</h3> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>npm install <span class="token operator">-</span>g webpack
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h2 id="对项目目录进行安装"><a href="#对项目目录进行安装" class="header-anchor">#</a> 对项目目录进行安装</h2> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>npm  init <span class="token operator">-</span>y
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="输入下面命令进行项目目录的安装"><a href="#输入下面命令进行项目目录的安装" class="header-anchor">#</a> 输入下面命令进行项目目录的安装：</h3> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>npm install <span class="token operator">--</span>save<span class="token operator">-</span>dev webpack
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>这里的参数–save是要保存到package.json中，dev是在开发时使用这个包，而生产环境中不使用。</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>开发环境：在开发时需要的环境，这里指在开发时需要依赖的包。

生产环境：程序开发完成，开始运行后的环境，这里指要使项目运行，所需要的依赖包。
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h2 id="查看webpack版本"><a href="#查看webpack版本" class="header-anchor">#</a> 查看webpack版本</h2> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>webpack  <span class="token operator">-</span>v
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h1 id="上手demo"><a href="#上手demo" class="header-anchor">#</a> 上手Demo</h1> <h3 id="建立基本项目结构"><a href="#建立基本项目结构" class="header-anchor">#</a> 建立基本项目结构</h3> <div class="language- extra-class"><pre><code>src文件夹：用来存放我们编写的javascript代码，可以简单的理解为用JavaScript编写的模块。

dist文件夹：用来存放供浏览器读取的文件，这个是webpack打包成的文件。
</code></pre></div><h3 id="编写程序文件"><a href="#编写程序文件" class="header-anchor">#</a> 编写程序文件：</h3> <p>文件夹建立好后，我们在dist文件下手动建立一个index.html文件，并写入下面的代码。</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code>    <span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>en<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>UTF-8<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>viewport<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>width=device-width, initial-scale=1.0<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">http-equiv</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>X-UA-Compatible<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ie=edge<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>Kiven webpack<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>title<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>./bundle.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p>这是用webpack执行打包命令后生产的文件。</p> <p>创建</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>src/entery.js
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>用于编写我们的JavaScript代码，也是我们的入口文件。</p> <h2 id="第一次webpack打包"><a href="#第一次webpack打包" class="header-anchor">#</a> 第一次Webpack打包</h2> <p>Webpack其实是可以在终端（命令行）中使用的，基本使用方法如下：</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>webpack <span class="token punctuation">{</span>entry file<span class="token punctuation">}</span> <span class="token punctuation">{</span>destination <span class="token keyword">for</span> bundled file<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>{entery file}:入口文件的路径，本文中就是src/entery.js的路径；
{destination for bundled file}:填写打包后存放的路径。
注意：在命令行中是不需要写{ }的。</p> <p>命令执行成功后，会在dist目录下出现bundle.js文件.</p> <p>这时我们就可以在浏览器中预览结果了，网页中显示出了Hello Webpack的信息。</p> <h1 id="配置文件-入口和出口"><a href="#配置文件-入口和出口" class="header-anchor">#</a> 配置文件： 入口和出口</h1> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>配置文件 webpack<span class="token punctuation">.</span>config<span class="token punctuation">.</span>js
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="webpack-config-js"><a href="#webpack-config-js" class="header-anchor">#</a> webpack.config.js</h3> <p>Webpack的配置文件，</p> <div class="language- extra-class"><pre><code>这个文件需要自己在项目根目录下手动建立。
</code></pre></div><p>webpack.config.js</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>            module<span class="token punctuation">.</span>exports<span class="token operator">=</span><span class="token punctuation">{</span>
                <span class="token comment">//入口文件的配置项</span>
                entry<span class="token operator">:</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token comment">//出口文件的配置项</span>
                output<span class="token operator">:</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token comment">//模块：例如解读CSS,图片如何转换，压缩</span>
                module<span class="token operator">:</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token comment">//插件，用于生产模版和各项功能</span>
                plugins<span class="token operator">:</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
                
                devServer<span class="token operator">:</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p>参数理解</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>entry：配置入口文件的地址，可以是单一入口，也可以是多入口。

output：配置出口文件的地址，在webpack2<span class="token punctuation">.</span><span class="token constant">X</span>版本后，支持多出口配置。

module：配置模块，主要是解析<span class="token constant">CSS</span>和图片转换压缩等功能。

plugins：配置插件，根据你的需要配置不同功能的插件。

devServer：配置开发服务功能，后期我们会详细讲解。
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h2 id="entry选项-入口配置"><a href="#entry选项-入口配置" class="header-anchor">#</a> entry选项（入口配置）</h2> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>    wepback<span class="token punctuation">.</span>config<span class="token punctuation">.</span>js中的entry选项

        <span class="token comment">//入口文件的配置项</span>
        entry<span class="token operator">:</span><span class="token punctuation">{</span>
            <span class="token comment">//里面的entery是可以随便写的</span>
            entry<span class="token operator">:</span><span class="token string">'./src/entry.js'</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h2 id="output选项-出口配置"><a href="#output选项-出口配置" class="header-anchor">#</a> output选项（出口配置）</h2> <p>出口配置是用来告诉webpack最后打包文件的地址和文件名称的。
应该打包到dist目录下。</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">//出口文件的配置项</span>
output<span class="token operator">:</span><span class="token punctuation">{</span>
    <span class="token comment">//打包的路径位置</span>
    path<span class="token operator">:</span>path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span><span class="token string">'dist'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token comment">//打包的文件名称</span>
        filename<span class="token operator">:</span><span class="token string">' '</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>如果你只这样写，是会报错的：找不到path这个东西。所以我们要在webpack.config.js的头部引入path，代码如下：</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span>  path  <span class="token operator">=</span>  <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">require</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">(</span><span class="token string">'path'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span>’dist’<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>就是获取了项目的绝对路径。</p> <p>filename:是打包后的文件名称，这里我们起名为bundle.js。</p> <h3 id="webpack-config-js的代码"><a href="#webpack-config-js的代码" class="header-anchor">#</a> webpack.config.js的代码：</h3> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">require</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">(</span><span class="token string">'path'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
module<span class="token punctuation">.</span>exports<span class="token operator">=</span><span class="token punctuation">{</span>
    <span class="token comment">//入口文件的配置项</span>
    entry<span class="token operator">:</span><span class="token punctuation">{</span>
        entry<span class="token operator">:</span><span class="token string">'./src/entry.js'</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">//出口文件的配置项</span>
    output<span class="token operator">:</span><span class="token punctuation">{</span>
        <span class="token comment">//输出的路径，用了Node语法</span>
        path<span class="token operator">:</span>path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span><span class="token string">'dist'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token comment">//输出的文件名称</span>
        filename<span class="token operator">:</span><span class="token string">'bundle.js'</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">//模块：例如解读CSS,图片如何转换，压缩</span>
    module<span class="token operator">:</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">//插件，用于生产模版和各项功能</span>
    plugins<span class="token operator">:</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token comment">//配置webpack开发服务功能</span>
    devServer<span class="token operator">:</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><p>在实际开发中我们都是通过配置文件进行打包的，所以必须要掌握好。</p> <h1 id="多入口-多出口配置"><a href="#多入口-多出口配置" class="header-anchor">#</a> 多入口，多出口配置</h1> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'path'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
module<span class="token punctuation">.</span>exports<span class="token operator">=</span><span class="token punctuation">{</span>
    <span class="token comment">//入口文件的配置项</span>
    entry<span class="token operator">:</span><span class="token punctuation">{</span>
        entry<span class="token operator">:</span><span class="token string">'./src/entry.js'</span><span class="token punctuation">,</span>
        <span class="token comment">//这里我们又引入了一个入口文件</span>
        entry2<span class="token operator">:</span><span class="token string">'./src/entry2.js'</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">//出口文件的配置项</span>
    output<span class="token operator">:</span><span class="token punctuation">{</span>
        <span class="token comment">//输出的路径，用了Node语法</span>
        path<span class="token operator">:</span>path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span><span class="token string">'dist'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token comment">//输出的文件名称</span>
        filename<span class="token operator">:</span><span class="token string">'[name].js'</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">//模块：例如解读CSS,图片如何转换，压缩</span>
    module<span class="token operator">:</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">//插件，用于生产模版和各项功能</span>
    plugins<span class="token operator">:</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token comment">//配置webpack开发服务功能</span>
    devServer<span class="token operator">:</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><p>在入口文件配置中，增加了一个entry2.js的入口文件（这个文件你需要自己手动建立)</p> <p>这时候要打包的就有了两个入口文件。在代码14行我们把原来的bundle.js修改成了[name].js。</p> <p>[name]的意思是根据入口文件的名称，打包成相同的名称，有几个入口文件
就可以打包出几个文件。</p> <h1 id="配置文件-服务和热更新"><a href="#配置文件-服务和热更新" class="header-anchor">#</a> 配置文件: 服务和热更新</h1> <p>最大的编程需求之一就是所见即所得的工具，也就是常说的热更新。</p> <p>一般有点规模的公司都为前端工程师准备了双屏显示器，其目的就是一个屏幕编写代码，一个屏幕实时显示页面效果</p> <h2 id="设置webpack-dev-server"><a href="#设置webpack-dev-server" class="header-anchor">#</a> 设置webpack-dev-server</h2> <p>下载模块</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>npm install webpack<span class="token operator">-</span>dev<span class="token operator">-</span>server –save<span class="token operator">-</span>dev
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h2 id="配置devserver"><a href="#配置devserver" class="header-anchor">#</a> 配置devServer</h2> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>    devServer<span class="token operator">:</span><span class="token punctuation">{</span>
        <span class="token comment">//设置基本目录结构</span>
        contentBase<span class="token operator">:</span>path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span><span class="token string">'dist'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token comment">//服务器的IP地址，可以使用IP也可以使用localhost</span>
        host<span class="token operator">:</span><span class="token string">'localhost'</span><span class="token punctuation">,</span>
        <span class="token comment">//服务端压缩是否开启</span>
        compress<span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span>
        <span class="token comment">//配置服务端口号</span>
        port<span class="token operator">:</span><span class="token number">1717</span>
    <span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>本地安装，所以使用了–save-dev。</p> <p>参数理解</p> <div class="language-mariadb line-numbers-mode"><pre class="language-text"><code>    contentBase:配置服务器基本运行路径，用于找到程序打包地址。
    
    host：服务运行地址，建议使用本机IP，这里为了讲解方便，所以用localhost。
    
    compress：服务器端压缩选型，一般设置为开启，如果你对服务器压缩感兴趣，可以自行学习。
    
    port：服务运行端口，建议不使用80，很容易被占用，这里使用了1717.
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h2 id="终端中输入webpack-dev-server"><a href="#终端中输入webpack-dev-server" class="header-anchor">#</a> 终端中输入webpack-dev-server</h2> <p>/package.json</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>        <span class="token string">&quot;scripts&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token string">&quot;server&quot;</span><span class="token operator">:</span><span class="token string">&quot;webpack-dev-server&quot;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h4 id="npm-run-server"><a href="#npm-run-server" class="header-anchor">#</a> npm run server</h4> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>    http<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>localhost<span class="token operator">:</span><span class="token number">1717</span>就可以看到结果了。
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h2 id="支持热更新"><a href="#支持热更新" class="header-anchor">#</a> 支持热更新</h2> <div class="language- extra-class"><pre><code>在npm run server 启动后，它是有一种监控机制的（也叫watch）。它可以监控到我们修改源码，并立即在浏览器里给我们更新。
</code></pre></div><h1 id="css文件打包"><a href="#css文件打包" class="header-anchor">#</a> CSS文件打包</h1> <p>Webpack在生产环境中有一个重要的作用就是减少http的请求数</p> <p>就是把多个文件打包到一个js里，这样请求数就可以减少好多。</p> <p>这节课我们就学习一个重要的知识，把我们的CSS文件打包。</p> <p>在学习CSS打包之前，需要先对webpack.config.js里的Loaders配置项进行了解。</p> <h1 id="loaders"><a href="#loaders" class="header-anchor">#</a> Loaders</h1> <div class="language- extra-class"><pre><code>Loaders是Webpack最重要的功能之一，他也是Webpack如此盛行的原因。
通过使用不同的Loader，Webpack可以的脚本和工具，从而对不同的文件格式进行特定处理。

可以把SASS文件的写法转换成CSS，而不在使用其他转换工具。

可以把ES6或者ES7的代码，转换成大多浏览器兼容的JS代码。

可以把React中的JSX转换成JavaScript代码。

所有的Loaders都需要在npm中单独进行安装，并在webpack.config.js里进行配置。
</code></pre></div><h3 id="loaders的配置-参数"><a href="#loaders的配置-参数" class="header-anchor">#</a> Loaders的配置(参数)</h3> <div class="language- extra-class"><pre><code>test：用于匹配处理文件的扩展名的表达式，这个选项是必须进行配置的；

use：loader名称，就是你要使用模块的名称，这个选项也必须进行配置，否则报错；

include/exclude:手动添加必须处理的文件（文件夹）或屏蔽不需要处理的文件（文件夹）（可选）；

query：为loaders提供额外的设置选项（可选）。
</code></pre></div><p>明白了Loader是什么后，就开始这节课的正题，如何打包CSS文件。</p> <h3 id="打包css文件"><a href="#打包css文件" class="header-anchor">#</a> 打包CSS文件：</h3> <div class="language-js line-numbers-mode"><pre class="language-js"><code>body<span class="token punctuation">{</span>
    background<span class="token operator">-</span>color<span class="token operator">:</span> red<span class="token punctuation">;</span>
    color<span class="token operator">:</span> white<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="引入到入口文件-打包"><a href="#引入到入口文件-打包" class="header-anchor">#</a> 引入到入口文件 打包</h3> <p>/src/entery.js中在首行加入代码：</p> <div class="language- extra-class"><pre><code>import i css from './css/index.css';


CSS和引入做好后，我们就需要使用loader来解析CSS文件了，
这里我们需要两个解析用的loader，分别是style-loader和css-loader。
</code></pre></div><h3 id="style-loader"><a href="#style-loader" class="header-anchor">#</a> style-loader:</h3> <p>它是用来处理css文件中的url()等，npm中的网址：https://www.npmjs.com/package/style-loader</p> <h4 id="安装"><a href="#安装" class="header-anchor">#</a> 安装：</h4> <div class="language-js line-numbers-mode"><pre class="language-js"><code>npm install style<span class="token operator">-</span>loader <span class="token operator">--</span>save<span class="token operator">-</span>dev
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="css-loader"><a href="#css-loader" class="header-anchor">#</a> css-loader：</h3> <p>它是用来将css插入到页面的style标签。npm中的网址：https://www.npmjs.com/package/css-loader</p> <h4 id="安装-2"><a href="#安装-2" class="header-anchor">#</a> 安装：</h4> <div class="language-js line-numbers-mode"><pre class="language-js"><code>npm n install <span class="token operator">--</span>save<span class="token operator">-</span>dev css<span class="token operator">-</span>loader
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h1 id="loaders配置"><a href="#loaders配置" class="header-anchor">#</a> loaders配置：</h1> <div class="language- extra-class"><pre><code>修改webpack.config.js中module属性中的配置代码如下：
</code></pre></div><div class="language-typescript line-numbers-mode"><pre class="language-typescript"><code>webpack<span class="token punctuation">.</span>config<span class="token punctuation">.</span>js

<span class="token keyword">module</span><span class="token operator">:</span><span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            test<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.css$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
            use<span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token string">'style-loader'</span><span class="token punctuation">,</span> <span class="token string">'css-loader'</span> <span class="token punctuation">]</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h2 id="loader的三种写法"><a href="#loader的三种写法" class="header-anchor">#</a> loader的三种写法：</h2> <p>第一种写法：直接用use。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>  module<span class="token operator">:</span><span class="token punctuation">{</span>
        rules<span class="token operator">:</span><span class="token punctuation">[</span>
            <span class="token punctuation">{</span>
                test<span class="token operator">:</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.css$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
                use<span class="token operator">:</span><span class="token punctuation">[</span><span class="token string">'style-loader'</span><span class="token punctuation">,</span><span class="token string">'css-loader'</span><span class="token punctuation">]</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>第二种写法：把use换成loader。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>   module<span class="token operator">:</span><span class="token punctuation">{</span>
        rules<span class="token operator">:</span><span class="token punctuation">[</span>
            <span class="token punctuation">{</span>
                test<span class="token operator">:</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.css$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
                loader<span class="token operator">:</span><span class="token punctuation">[</span><span class="token string">'style-loader'</span><span class="token punctuation">,</span><span class="token string">'css-loader'</span><span class="token punctuation">]</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>第三种写法：用use+loader的写法</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>module<span class="token operator">:</span><span class="token punctuation">{</span>
    rules<span class="token operator">:</span><span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            test<span class="token operator">:</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.css$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
            use<span class="token operator">:</span> <span class="token punctuation">[</span>
                <span class="token punctuation">{</span>
                    loader<span class="token operator">:</span> <span class="token string">&quot;style-loader&quot;</span>
                <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
                    loader<span class="token operator">:</span> <span class="token string">&quot;css-loader&quot;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">]</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><p>webpack的扩展和灵活性是非常强的，你习惯于那种写法都可以。</p> <p>最重要的是，你看见别人项目的其他写法也不要慌张，自己去试一试，有可能就可以Get到新知识。</p> <h1 id="配置js压缩"><a href="#配置js压缩" class="header-anchor">#</a> 配置JS压缩</h1> <h2 id="压缩js代码"><a href="#压缩js代码" class="header-anchor">#</a> 压缩JS代码：</h2> <div class="language- extra-class"><pre><code>现在你写的JS代码，在上线之前，都是需要进行压缩
先来引入一个 uglifyjs-webpack-plugin(JS压缩插件，简称uglify)
</code></pre></div><p>注意 虽然uglifyjs是插件</p> <p>但是webpack版本里默认已经集成，不需要再次安装。</p> <h2 id="引入"><a href="#引入" class="header-anchor">#</a> 引入</h2> <p>webpack.config.js中引入uglifyjs-webpack-glugin插件</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> uglify <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">require</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">(</span><span class="token string">'uglifyjs-webpack-plugin'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h2 id="引入后在plugins配置"><a href="#引入后在plugins配置" class="header-anchor">#</a> 引入后在plugins配置</h2> <p>代码如下：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>plugins<span class="token operator">:</span><span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">uglify</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">]</span><span class="token punctuation">,</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h2 id="代码展示"><a href="#代码展示" class="header-anchor">#</a> 代码展示:</h2> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> path<span class="token operator">=</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">require</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">(</span><span class="token string">'path'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> uglify <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">require</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">(</span><span class="token string">'uglifyjs-webpack-plugin'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
module<span class="token punctuation">.</span>exports<span class="token operator">=</span><span class="token punctuation">{</span>
    entry<span class="token operator">:</span><span class="token punctuation">{</span>
        entry<span class="token operator">:</span><span class="token string">'./src/entry.js'</span><span class="token punctuation">,</span>
        entry2<span class="token operator">:</span><span class="token string">'./src/entry2.js'</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    output<span class="token operator">:</span><span class="token punctuation">{</span>
        path<span class="token operator">:</span>path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span><span class="token string">'dist'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        filename<span class="token operator">:</span><span class="token string">'[name].js'</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    module<span class="token operator">:</span><span class="token punctuation">{</span>
        rules<span class="token operator">:</span><span class="token punctuation">[</span>
            <span class="token punctuation">{</span>
                test<span class="token operator">:</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.css$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
                use<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;style-loader&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;css-loader&quot;</span><span class="token punctuation">]</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    plugins<span class="token operator">:</span><span class="token punctuation">[</span>
        <span class="token keyword">new</span> <span class="token class-name">uglify</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    devServer<span class="token operator">:</span><span class="token punctuation">{</span>
        contentBase<span class="token operator">:</span>path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span><span class="token string">'dist'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        host<span class="token operator">:</span><span class="token string">'192.168.0.104'</span><span class="token punctuation">,</span>
        compress<span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span>
        port<span class="token operator">:</span><span class="token number">1717</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br></div></div><p>​</p> <h1 id="html文件的发布"><a href="#html文件的发布" class="header-anchor">#</a> HTML文件的发布</h1> <div class="language- extra-class"><pre><code>index.html直接放到了dist文件夹下，这肯定是不正确的，应该放到我们src目录下。
</code></pre></div><h2 id="devserver和js压缩的冲突"><a href="#devserver和js压缩的冲突" class="header-anchor">#</a> devServer和JS压缩的冲突</h2> <div class="language-js line-numbers-mode"><pre class="language-js"><code>npm run server进行了预览，发现终端中报错了。

开发环境中是基本不会对js进行压缩的，在开发预览时我们需要明确的报错行数和错误信息，所以完全没有必要压缩JavasScript代码。

而生产环境中才会压缩<span class="token constant">JS</span>代码，用于加快程序的工作效率。

devServer用于开发环境，而压缩<span class="token constant">JS</span>用于生产环境，在开发环境中作生产环境的事情所以Webpack设置了冲突报错。

webpack配置文件是分开的，开发环境一个文件，生产环境一个文件。
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h3 id="打包html文件"><a href="#打包html文件" class="header-anchor">#</a> 打包HTML文件</h3> <div class="language- extra-class"><pre><code>我们先把dist中的html文件剪切到src目录中


并去掉我们的JS引入代码（webpack会自动为我们引入JS），因为这才是我们真实工作的目录文件结构。
</code></pre></div><h2 id="配置webpack-config-js文件"><a href="#配置webpack-config-js文件" class="header-anchor">#</a> 配置webpack.config.js文件</h2> <h4 id="引入插件。"><a href="#引入插件。" class="header-anchor">#</a> 引入插件。</h4> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> htmlPlugin <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">require</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">(</span><span class="token string">'html-webpack-plugin'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h4 id="安装-3"><a href="#安装-3" class="header-anchor">#</a> 安装</h4> <div class="language-js line-numbers-mode"><pre class="language-js"><code>npm install <span class="token operator">--</span>save<span class="token operator">-</span>dev html<span class="token operator">-</span>webpack<span class="token operator">-</span>plugin
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>webpack.config.js里的plugins里进行插件配置，配置代码如下。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">new</span> <span class="token class-name">htmlPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    minify<span class="token operator">:</span><span class="token punctuation">{</span>
        removeAttributeQuotes<span class="token operator">:</span><span class="token boolean">true</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    hash<span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span>
    template<span class="token operator">:</span><span class="token string">'./src/index.html'</span>

<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>参数理解</p> <div class="language- extra-class"><pre><code>minify：是对html文件进行压缩，

removeAttrubuteQuotes是却掉属性的双引号。

hash：为了开发中js有缓存效果，所以加入hash，这样可以有效避免缓存JS。

template：是要打包的html模版路径和文件名称。
</code></pre></div><h1 id="总结"><a href="#总结" class="header-anchor">#</a> 总结</h1> <p>html文件的打包可以有效的区分开发目录和生产目录，在webpack的配置中也要搞清楚哪些配置用于生产环境，哪些配置用于开发环境，避免两种环境的配置冲突。</p> <h1 id="css-中的图片处理"><a href="#css-中的图片处理" class="header-anchor">#</a> Css 中的图片处理</h1> <p>图片写入CSS</p> <p>找到图片后在src目录</p> <p>​				新建一个images文件夹，把图片放入images文件夹。
在index.html文件中增加一个放置div的标签</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token operator">&lt;</span>div id<span class="token operator">=</span><span class="token string">&quot;tupian&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>​</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>#tupian<span class="token punctuation">{</span>
    background<span class="token operator">-</span>image<span class="token operator">:</span> <span class="token function">url</span><span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token operator">/</span>images<span class="token operator">/</span>manhua<span class="token punctuation">.</span>png<span class="token punctuation">)</span><span class="token punctuation">;</span>
    width<span class="token operator">:</span><span class="token number">466</span>px<span class="token punctuation">;</span>
    height<span class="token operator">:</span><span class="token number">453</span>px<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h2 id="file-loader、url-loader"><a href="#file-loader、url-loader" class="header-anchor">#</a> file-loader、url-loader</h2> <p>我们先安装两个解析图片用的loader。</p> <h3 id="安装-4"><a href="#安装-4" class="header-anchor">#</a> 安装</h3> <div class="language- extra-class"><pre><code>npm install --save-dev file-loader url-loader
</code></pre></div><h4 id="file-loader"><a href="#file-loader" class="header-anchor">#</a> file-loader：</h4> <div class="language- extra-class"><pre><code>解决引用路径的问题，拿background样式用url引入背景图来说，我们都知道，webpack最终会将各个模块打包成一个文件，因此我们样式中的url路径是相对入口html页面的，而不是相对于原始css文件所在的路径的。
    
这就会导致图片引入失败。这个问题是用file-loader解决的，file-loader可以解析项目中的url引入（不仅限于css），根据我们的配置，将图片拷贝到相应的路径，再根据我们的配置，修改打包后文件引用路径，使之指向正确的文件。
</code></pre></div><h4 id="url-loader"><a href="#url-loader" class="header-anchor">#</a> url-loader：</h4> <p>如果图片较多，会发很多http请求，会降低页面性能。</p> <div class="language- extra-class"><pre><code>这个问题可以通过url-loader解决。url-loader会将引入的图片编码，生成dataURl。
相当于把图片数据翻译成一串字符。再把这串字符打包到文件中，最终只需要引入这个文件就能访问图片了。

当然，如果图片较大，编码会消耗性能。因此url-loader提供了一个limit参数，小于limit字节的文件会被转为DataURl，大于limit的还会使用file-loader进行copy。
</code></pre></div><h4 id="配置url-loader"><a href="#配置url-loader" class="header-anchor">#</a> 配置url-loader</h4> <div class="language- extra-class"><pre><code>loader使用时不需要用require引入，在plugins才需要使用require引入。
</code></pre></div><div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">//模块：例如解读CSS,图片如何转换，压缩</span>
       
module<span class="token operator">:</span><span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            test<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.css$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
            use<span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token string">'style-loader'</span><span class="token punctuation">,</span> <span class="token string">'css-loader'</span> <span class="token punctuation">]</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{</span>
            test<span class="token operator">:</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.(png|jpg|gif)</span><span class="token regex-delimiter">/</span></span> <span class="token punctuation">,</span>
            use<span class="token operator">:</span><span class="token punctuation">[</span><span class="token punctuation">{</span>
                loader<span class="token operator">:</span><span class="token string">'url-loader'</span><span class="token punctuation">,</span>
                options<span class="token operator">:</span><span class="token punctuation">{</span>
                    limit<span class="token operator">:</span><span class="token number">500000</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span><span class="token punctuation">]</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><p>参数</p> <div class="language- extra-class"><pre><code>test:/.(png|jpg|gif)/是匹配图片文件后缀名称。
use：是指定使用的loader和loader的配置参数。
limit：是把小于500000B的文件打成Base64的格式，写入JS。
</code></pre></div><h1 id="url-loader-file-loader关系"><a href="#url-loader-file-loader关系" class="header-anchor">#</a> url-loader &amp; file-loader关系</h1> <div class="language- extra-class"><pre><code>url-loader和file-loader是什么关系呢？

url-loader封装了file-loader。

url-loader内置了file-loader。
</code></pre></div><h2 id="url-loader工作分两种情况"><a href="#url-loader工作分两种情况" class="header-anchor">#</a> url-loader工作分两种情况：</h2> <div class="language- extra-class"><pre><code>1.文件大小小于limit参数，url-loader将会把文件转为DataURL（Base64格式）；


2.文件大小大于limit，url-loader会调用file-loader进行处理，参数也会直接传给file-loader。
</code></pre></div><h1 id="css分离-和-图片路径处理"><a href="#css分离-和-图片路径处理" class="header-anchor">#</a> Css分离 和 图片路径处理</h1> <h2 id="css分离-extract-text-webpack-plugin"><a href="#css分离-extract-text-webpack-plugin" class="header-anchor">#</a> CSS分离:extract-text-webpack-plugin</h2> <div class="language- extra-class"><pre><code>你的JavasScript页面代码会非常少，而大部分代码都在CSS中，这时候项目组长会要求把CSS单独提取出来，方便以后更改。
遇到这个需求你不要惊慌，已经有大神为我们准备好了对象的插件（plugin）。
</code></pre></div><h1 id="extract-text-webpack-plugin"><a href="#extract-text-webpack-plugin" class="header-anchor">#</a> extract-text-webpack-plugin</h1> <p>这个插件就可以完美的解决我们提取CSS的需求</p> <h2 id="安装-5"><a href="#安装-5" class="header-anchor">#</a> 安装</h2> <div class="language- extra-class"><pre><code>npm install --save-dev extract-text-webpack-plugin
</code></pre></div><h2 id="引入-2"><a href="#引入-2" class="header-anchor">#</a> 引入</h2> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> extractTextPlugin <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">require</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">(</span><span class="token string">&quot;extract-text-webpack-plugin&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h2 id="设置plugins"><a href="#设置plugins" class="header-anchor">#</a> 设置Plugins：</h2> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">new</span> <span class="token class-name">extractTextPlugin</span><span class="token punctuation">(</span><span class="token string">&quot;/css/index.css&quot;</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>包装代码：还要修改原来我们的style-loader和css-loader。</p> <h2 id="修改代码如下"><a href="#修改代码如下" class="header-anchor">#</a> 修改代码如下</h2> <div class="language-js line-numbers-mode"><pre class="language-js"><code>module<span class="token operator">:</span><span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            test<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.css$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
            use<span class="token operator">:</span> extractTextPlugin<span class="token punctuation">.</span><span class="token function">extract</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
                fallback<span class="token operator">:</span> <span class="token string">&quot;style-loader&quot;</span><span class="token punctuation">,</span>
                use<span class="token operator">:</span> <span class="token string">&quot;css-loader&quot;</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{</span>
            test<span class="token operator">:</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.(png|jpg|gif)</span><span class="token regex-delimiter">/</span></span> <span class="token punctuation">,</span>
            use<span class="token operator">:</span><span class="token punctuation">[</span><span class="token punctuation">{</span>
                loader<span class="token operator">:</span><span class="token string">'url-loader'</span><span class="token punctuation">,</span>
                options<span class="token operator">:</span><span class="token punctuation">{</span>
                    limit<span class="token operator">:</span><span class="token number">500000</span><span class="token punctuation">,</span>
                    outputPath<span class="token operator">:</span><span class="token string">'images/'</span><span class="token punctuation">,</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span><span class="token punctuation">]</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><h1 id="图片路径问题"><a href="#图片路径问题" class="header-anchor">#</a> 图片路径问题：</h1> <div class="language- extra-class"><pre><code>tract-text-webpack-plugin插件很轻松的就把CSS文件分离了出来，但是CSS路径并不正确

publicPath：是在webpack.config.js文件的output选项中，主要作用就是处理静态文件路径的。
</code></pre></div><h2 id="图片打包到images文件夹"><a href="#图片打包到images文件夹" class="header-anchor">#</a> 图片打包到images文件夹</h2> <h2 id="在webpack-config-js-上方声明一个对象"><a href="#在webpack-config-js-上方声明一个对象" class="header-anchor">#</a> 在webpack.config.js 上方声明一个对象</h2> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> website <span class="token operator">=</span><span class="token punctuation">{</span>
	publicPath<span class="token operator">:</span><span class="token string">&quot;http://192.168.1.108:1717/&quot;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>注意，这里的IP和端口，是你本机的ip或者是你devServer配置的IP和端口。</p> <h2 id="引用这个对象的publicpath属性。"><a href="#引用这个对象的publicpath属性。" class="header-anchor">#</a> 引用这个对象的publicPath属性。</h2> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">//出口文件的配置项</span>
output<span class="token operator">:</span><span class="token punctuation">{</span>
    <span class="token comment">//输出的路径，用了Node语法</span>
    path<span class="token operator">:</span>path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span><span class="token string">'dist'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token comment">//输出的文件名称</span>
        filename<span class="token operator">:</span><span class="token string">'[name].js'</span><span class="token punctuation">,</span>

            publicPath<span class="token operator">:</span>website<span class="token punctuation">.</span>publicPath
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>​<br>
总结：这节课我们实现了CSS的分离，并在分离后处理了图片路径不对的问题。处理路径的方法一定要充分理解，因为这在工作中经常用到。</p> <div class="language- extra-class"><pre><code>    &quot;scripts&quot;: {
        &quot;server&quot;: &quot;webpack-dev-server --open&quot;,
        &quot;build&quot;:&quot;webpack&quot;
    },
</code></pre></div><h1 id="处理html-中的图片"><a href="#处理html-中的图片" class="header-anchor">#</a> 处理HTML 中的图片</h1> <p>在webpack中是不喜欢你使用标签
来引入图片的，但是我们作前端的人特别热衷于这种写法，
国人也为此开发了一个：html-withimg-loader。他可以很好的处理我们在html 中引入图片的问题。</p> <h2 id="安装-6"><a href="#安装-6" class="header-anchor">#</a> 安装：</h2> <div class="language- extra-class"><pre><code>npm install html-withimg-loader --save
</code></pre></div><h1 id="配置loader"><a href="#配置loader" class="header-anchor">#</a> 配置loader</h1> <p>webpack.config.js</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token punctuation">{</span>
    test<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.(htm|html)$</span><span class="token regex-delimiter">/</span><span class="token regex-flags">i</span></span><span class="token punctuation">,</span>
        use<span class="token operator">:</span><span class="token punctuation">[</span> <span class="token string">'html-withimg-loader'</span><span class="token punctuation">]</span> 
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h2 id="css-进阶打包"><a href="#css-进阶打包" class="header-anchor">#</a> CSS 进阶打包</h2> <p>Less文件的打包分离</p> <p>Less 是一门 CSS 预处理语言，它扩展了 CSS 语言，增加了变量、Mixin、函数等特性，使 CSS 更易维护和扩展。</p> <h1 id="打包less文件"><a href="#打包less文件" class="header-anchor">#</a> 打包Less文件</h1> <h2 id="安装-7"><a href="#安装-7" class="header-anchor">#</a> 安装:</h2> <div class="language- extra-class"><pre><code>npm install --save-dev less
</code></pre></div><p>还需要安装Less-loader用来打包使用。</p> <div class="language- extra-class"><pre><code>npm n install --save-dev less-loader
</code></pre></div><h2 id="写loader配置"><a href="#写loader配置" class="header-anchor">#</a> 写loader配置：</h2> <div class="language-js line-numbers-mode"><pre class="language-js"><code>webpack<span class="token punctuation">.</span>config<span class="token punctuation">.</span>js

<span class="token punctuation">{</span>
    test<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.less$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
            loader<span class="token operator">:</span> <span class="token string">&quot;style-loader&quot;</span> <span class="token comment">// creates style nodes from JS strings</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
            loader<span class="token operator">:</span> <span class="token string">&quot;css-loader&quot;</span> <span class="token comment">// translates CSS into CommonJS</span>
            <span class="token punctuation">,</span> <span class="token punctuation">{</span>
            loader<span class="token operator">:</span> <span class="token string">&quot;less-loader&quot;</span> <span class="token comment">// compiles Less to CSS</span>
        <span class="token punctuation">}</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h2 id="编写一个less文件"><a href="#编写一个less文件" class="header-anchor">#</a> 编写一个less文件</h2> <div class="language-css line-numbers-mode"><pre class="language-css"><code>black.less

<span class="token atrule"><span class="token rule">@base</span> <span class="token punctuation">:</span>#000<span class="token punctuation">;</span></span>

<span class="token selector">#gogo</span><span class="token punctuation">{</span>
    <span class="token property">width</span><span class="token punctuation">:</span>300px<span class="token punctuation">;</span>
    <span class="token property">height</span><span class="token punctuation">:</span>300px<span class="token punctuation">;</span>
    <span class="token property">background-color</span><span class="token punctuation">:</span><span class="token atrule"><span class="token rule">@base</span><span class="token punctuation">;</span></span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h2 id="引入到我们entery-js文件中"><a href="#引入到我们entery-js文件中" class="header-anchor">#</a> 引入到我们entery.js文件中</h2> <div class="language- line-numbers-mode"><pre class="language-text"><code>import less from './css/black.less';
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>这样我们就可以把less文件进行打包了。</p> <h2 id="把lees文件分离。"><a href="#把lees文件分离。" class="header-anchor">#</a> 把Lees文件分离。</h2> <p>我们之前讲了extract-text-webpack-plugin这个插件，</p> <p>想把Less文件分离出来的方法跟这个几乎一样 这里我们就只讲less的loader配置方法</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token punctuation">{</span>
    test<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.less$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> extractTextPlugin<span class="token punctuation">.</span><span class="token function">extract</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
            use<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
                loader<span class="token operator">:</span> <span class="token string">&quot;css-loader&quot;</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
                loader<span class="token operator">:</span> <span class="token string">&quot;less-loader&quot;</span>
            <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
            <span class="token comment">// use style-loader in development</span>
            fallback<span class="token operator">:</span> <span class="token string">&quot;style-loader&quot;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p>less被分离到了index.css文件里。</p> <h1 id="打包sass文件"><a href="#打包sass文件" class="header-anchor">#</a> 打包Sass文件</h1> <h2 id="sass文件的打包和分离"><a href="#sass文件的打包和分离" class="header-anchor">#</a> SASS文件的打包和分离</h2> <h2 id="安装sass打包的loader"><a href="#安装sass打包的loader" class="header-anchor">#</a> 安装SASS打包的loader</h2> <p>这里需要 在项目目录下用npm安装两个包。</p> <p>node-sass 和  sass-loader</p> <p>node-sass：因为sass-loader依赖于node-sass，所以需要先安装node-sass</p> <div class="language- extra-class"><pre><code>npm n install --save-dev node-sass
</code></pre></div><p>sass-loader:</p> <div class="language- extra-class"><pre><code>npm n install --save-dev sass-loader
</code></pre></div><p>​</p> <h2 id="编写loader配置"><a href="#编写loader配置" class="header-anchor">#</a> 编写loader配置</h2> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token punctuation">{</span>
    test<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.scss$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
            loader<span class="token operator">:</span> <span class="token string">&quot;style-loader&quot;</span> <span class="token comment">// creates style nodes from JS strings</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
            loader<span class="token operator">:</span> <span class="token string">&quot;css-loader&quot;</span> <span class="token comment">// translates CSS into CommonJS</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
            loader<span class="token operator">:</span> <span class="token string">&quot;sass-loader&quot;</span> <span class="token comment">// compiles Sass to CSS</span>
        <span class="token punctuation">}</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h2 id="sass文件的编写"><a href="#sass文件的编写" class="header-anchor">#</a> Sass文件的编写</h2> <p>写好loader配置后，就可以愉快的编写sass文件拉，但是不要忘记把sass文件引入到entery.js中。</p> <div class="language-css line-numbers-mode"><pre class="language-css"><code>$<span class="token property">nav-color</span><span class="token punctuation">:</span> #FFF<span class="token selector">;
#nav</span> <span class="token punctuation">{</span>
    $<span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
    <span class="token property">width</span><span class="token punctuation">:</span> $width<span class="token punctuation">;</span>
    <span class="token property">height</span><span class="token punctuation">:</span>30px<span class="token punctuation">;</span>
    <span class="token property">background-color</span><span class="token punctuation">:</span> $nav-color<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h2 id="把sass文件分离。"><a href="#把sass文件分离。" class="header-anchor">#</a> 把SASS文件分离。</h2> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token punctuation">{</span>
    test<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.scss$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> extractTextPlugin<span class="token punctuation">.</span><span class="token function">extract</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
            use<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
                loader<span class="token operator">:</span> <span class="token string">&quot;css-loader&quot;</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
                loader<span class="token operator">:</span> <span class="token string">&quot;sass-loader&quot;</span>
            <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
            <span class="token comment">// use style-loader in development</span>
            fallback<span class="token operator">:</span> <span class="token string">&quot;style-loader&quot;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p>其实整体过程和less的使用差不多</p> <h1 id="css-进阶"><a href="#css-进阶" class="header-anchor">#</a> Css 进阶</h1> <h1 id="自动处理css3属性前缀"><a href="#自动处理css3属性前缀" class="header-anchor">#</a> 自动处理CSS3属性前缀</h1> <div class="language- extra-class"><pre><code>CSS3已经成了前端的必会技能，但是你一定为那些属性需要加前缀，那些属性不需要加前缀而头疼。

如何通过postcss-loader给css3属性自动添加前缀。
</code></pre></div><h2 id="什么是属性前缀"><a href="#什么是属性前缀" class="header-anchor">#</a> 什么是属性前缀</h2> <p>我们先来看一下代码：</p> <div class="language-css line-numbers-mode"><pre class="language-css"><code><span class="token property">-webkit-transform</span><span class="token punctuation">:</span> <span class="token function">rotate</span><span class="token punctuation">(</span>45deg<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">rotate</span><span class="token punctuation">(</span>45deg<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h2 id="postcss"><a href="#postcss" class="header-anchor">#</a> PostCSS</h2> <h3 id="安装-8"><a href="#安装-8" class="header-anchor">#</a> 安装</h3> <p>需要安装两个包postcss-loader 和autoprefixer（自动添加前缀的插件）</p> <div class="language- extra-class"><pre><code>npm install --save-dev postcss-loader autoprefixer
</code></pre></div><p>postcss.config.js</p> <p>PostCSS推荐在项目根目录（和webpack.config.js同级），建立一个postcss.config.js文件。</p> <p>postcss.config.js</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
    plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'autoprefixer'</span><span class="token punctuation">)</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>引入了autoprefixer插件。让postCSS拥有添加前缀的能力</p> <h2 id="编写loader"><a href="#编写loader" class="header-anchor">#</a> 编写loader</h2> <p>对postcss.config.js配置完成后，我们还需要编写我们的loader配置。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token punctuation">{</span>
    test<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.css$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token punctuation">{</span>
                loader<span class="token operator">:</span> <span class="token string">&quot;style-loader&quot;</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
                loader<span class="token operator">:</span> <span class="token string">&quot;css-loader&quot;</span><span class="token punctuation">,</span>
                options<span class="token operator">:</span> <span class="token punctuation">{</span>
                    modules<span class="token operator">:</span> <span class="token boolean">true</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
                loader<span class="token operator">:</span> <span class="token string">&quot;postcss-loader&quot;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><h1 id="提取css"><a href="#提取css" class="header-anchor">#</a> 提取CSS</h1> <p>配置提取CSS的loader配置.</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token punctuation">{</span>
    test<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.css$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> extractTextPlugin<span class="token punctuation">.</span><span class="token function">extract</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
            fallback<span class="token operator">:</span> <span class="token string">'style-loader'</span><span class="token punctuation">,</span>
            use<span class="token operator">:</span> <span class="token punctuation">[</span>
                <span class="token punctuation">{</span> loader<span class="token operator">:</span> <span class="token string">'css-loader'</span><span class="token punctuation">,</span> options<span class="token operator">:</span> <span class="token punctuation">{</span> importLoaders<span class="token operator">:</span> <span class="token number">1</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token string">'postcss-loader'</span>
            <span class="token punctuation">]</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>postcss还有很多功能，我希望小伙伴学会自学。</p> <p>这里给出postcss-loader的github地址：https://github.com/postcss/postcss-loader</p> <h1 id="消除未使用的css"><a href="#消除未使用的css" class="header-anchor">#</a> 消除未使用的Css</h1> <div class="language- extra-class"><pre><code>这节课就学习用webpack消除未使用的CSS。

像Bootstrap这样的框架往往会带有很多CSS。在项目中通常我们只使用它的一小部分
</code></pre></div><h2 id="purifycss"><a href="#purifycss" class="header-anchor">#</a> PurifyCSS</h2> <p>使用PurifyCSS可以大大减少CSS冗余，比如我们经常使用的BootStrap(140KB)就可以减少到只有35KB大小。这在实际开发当中是非常有用的。</p> <h3 id="purifycss-2"><a href="#purifycss-2" class="header-anchor">#</a> PurifyCSS</h3> <p>使用PurifyCSS可以大大减少CSS冗余，比如我们经常使用的BootStrap(140KB)就可以减少到只有35KB大小。</p> <p>这在实际开发当中是非常有用的。</p> <h2 id="安装-9"><a href="#安装-9" class="header-anchor">#</a> 安装</h2> <div class="language- extra-class"><pre><code>npm  i -D purifycss-webpack purify-css


-D代表的是–save-dev ,只是一个简写。
</code></pre></div><h2 id="引入glob"><a href="#引入glob" class="header-anchor">#</a> 引入glob</h2> <p>引入node的glob对象使用。在webpack.config.js文件头部引入glob。</p> <div class="language- extra-class"><pre><code>const glob = `require`('glob');
</code></pre></div><h2 id="引入purifycss-webpack"><a href="#引入purifycss-webpack" class="header-anchor">#</a> 引入purifycss-webpack</h2> <p>同样在webpack.config.js文件头部引入purifycss-webpack</p> <div class="language- extra-class"><pre><code>const PurifyCSSPlugin = `require`(&quot;purifycss-webpack&quot;);
</code></pre></div><h1 id="配置plugins"><a href="#配置plugins" class="header-anchor">#</a> 配置plugins</h1> <p>引入完成后我们需要在webpack.config.js里配置plugins。代码如下，重点看标黄部分。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>plugins<span class="token operator">:</span><span class="token punctuation">[</span>
    <span class="token comment">//new uglify() </span>
    <span class="token keyword">new</span> <span class="token class-name">htmlPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        minify<span class="token operator">:</span><span class="token punctuation">{</span>
            removeAttrubuteQuotes<span class="token operator">:</span><span class="token boolean">true</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        hash<span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span>
        template<span class="token operator">:</span><span class="token string">'./src/index.html'</span>

    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token keyword">new</span> <span class="token class-name">extractTextPlugin</span><span class="token punctuation">(</span><span class="token string">&quot;css/index.css&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token keyword">new</span> <span class="token class-name">PurifyCSSPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token comment">// Give paths to parse for rules. These should be absolute!</span>
        paths<span class="token operator">:</span> glob<span class="token punctuation">.</span><span class="token function">sync</span><span class="token punctuation">(</span>path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'src/*.html'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token punctuation">]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><p>purifycss根据这个配置会遍历你的文件，查找哪些css被使用了。</p> <p>在工作中记得一定要配置这个plugins，因为这决定你代码的质量，非常有用。</p> <h1 id="webpack-增加babel支持"><a href="#webpack-增加babel支持" class="header-anchor">#</a> webpack 增加babel支持</h1> <p>所以这节课我们学习一下如何增加Babel支持。</p> <h2 id="babel是什么"><a href="#babel是什么" class="header-anchor">#</a> Babel是什么？</h2> <div class="language- extra-class"><pre><code>Babel其实是一个编译JavaScript的平台，它的强大之处表现在可以通过便宜帮你达到以下目的：

使用下一代的javaScript代码(ES6,ES7….)，即使这些标准目前并未被当前的浏览器完全支持。

使用基于JavaScript进行了扩展的语言，比如React的JSX。
</code></pre></div><h2 id="babel的安装与配置"><a href="#babel的安装与配置" class="header-anchor">#</a> Babel的安装与配置</h2> <div class="language- extra-class"><pre><code>你都需要安装单独的包（用得最多的是解析ES6的babel-preset-es2015包和解析JSX的babel-preset-react包）。
</code></pre></div><p>我们先一次性安装这些依赖包</p> <div class="language- extra-class"><pre><code>cnpm c install --save-dev babel-core babel-loader babel-preset-es2015 babel-preset-react
</code></pre></div><h2 id="webpack中配置babel"><a href="#webpack中配置babel" class="header-anchor">#</a> webpack中配置Babel</h2> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token punctuation">{</span>
    test<span class="token operator">:</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.(jsx|js)$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        use<span class="token operator">:</span><span class="token punctuation">{</span>
            loader<span class="token operator">:</span><span class="token string">'babel-loader'</span><span class="token punctuation">,</span>
                options<span class="token operator">:</span><span class="token punctuation">{</span>
                    presets<span class="token operator">:</span><span class="token punctuation">[</span>
                        <span class="token string">&quot;es2015&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;react&quot;</span>
                    <span class="token punctuation">]</span>
                <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
            exclude<span class="token operator">:</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">node_modules</span><span class="token regex-delimiter">/</span></span> 
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p>现在你已经可以用webapck转换ES6的语法兼容各个浏览器了，我们可以修改一下entry.js的代码如下：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>            <span class="token keyword">import</span> css <span class="token keyword">from</span> <span class="token string">'./css/index.css'</span><span class="token punctuation">;</span>
            <span class="token punctuation">{</span>
                <span class="token keyword">let</span> jspangString <span class="token operator">=</span> <span class="token string">'Hello Webpack'</span>
                document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'title'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>innerHTML<span class="token operator">=</span>kivenString<span class="token punctuation">;</span> 
            <span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h1 id="babelrc配置"><a href="#babelrc配置" class="header-anchor">#</a> .babelrc配置</h1> <div class="language- extra-class"><pre><code>虽然Babel可以直接在webpack.config.js中进行配置，但是考虑到babel具有非常多的配置选项

如果卸载webapck.config.js中会非常的雍长不可阅读，所以我们经常把配置卸载.babelrc文件里。
</code></pre></div><p>在项目根目录新建.babelrc文件</p> <p>.babelrc</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token punctuation">{</span>
    <span class="token string">&quot;presets&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token string">&quot;react&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;es2015&quot;</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>.webpack.config.js里的loader配置</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token punctuation">{</span>
    test<span class="token operator">:</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.(jsx|js)$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        use<span class="token operator">:</span><span class="token punctuation">{</span>
            loader<span class="token operator">:</span><span class="token string">'babel-loader'</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
            exclude<span class="token operator">:</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">node_modules</span><span class="token regex-delimiter">/</span></span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>​</p> <h1 id="env"><a href="#env" class="header-anchor">#</a> ENV：</h1> <div class="language- extra-class"><pre><code>现在网络上已经不流行babel-preset-es2015，现在官方推荐使用的是babel-preset-env,那我们为了紧跟潮流，我们在讲一下env的配置方法。
</code></pre></div><p>首先需要下载：</p> <div class="language- extra-class"><pre><code>npm  install --save-dev babel-preset-env
</code></pre></div><p>然后修改.babelrc里的配置文件。其实只要把之前的es2015换成env就可以了。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token punctuation">{</span>
    <span class="token string">&quot;presets&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token string">&quot;react&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;env&quot;</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h2 id="总结-2"><a href="#总结-2" class="header-anchor">#</a> 总结</h2> <div class="language- extra-class"><pre><code>    在实际工作中还是要安装Babel的，这样能更好的兼容每种浏览器，而把Babel的配置文件分解出来是最好的选择。
</code></pre></div><h1 id="打包后如何调试"><a href="#打包后如何调试" class="header-anchor">#</a> 打包后如何调试</h1> <div class="language- extra-class"><pre><code>每天的大部分工作就是调试自己写的程序，那我们使用了webpack后，所以代码都打包到了一起，给调试带来了麻烦，但是webpack已经为我们充分考虑好了这点，它支持生产Source Maps来方便我们的调试。（敲黑板，这节可能偏理论一点。）
在使用webpack时只要通过简单的devtool配置，webapck就会自动给我们生产source maps 文件，
map文件是一种对应编译文件和源文件的方法，让我们调试起来更简单。
</code></pre></div><h1 id="四种选项"><a href="#四种选项" class="header-anchor">#</a> 四种选项</h1> <div class="language- extra-class"><pre><code>    source-map:在一个单独文件中产生一个完整且功能完全的文件。
 
    这个文件具有最好的source map,但是它会减慢打包速度；
</code></pre></div><p>cheap-module-source-map:在一个单独的文件中产生一个不带列映射的map，</p> <p>不带列映射提高了打包速度，但是也使得浏览器开发者工具只能对应到具体的行，不能对应到具体的列（符号）,会对调试造成不便。</p> <div class="language- extra-class"><pre><code>eval-source-map:使用eval打包源文件模块，在同一个文件中生产干净的完整版的sourcemap，但是对打包后输出的JS文件的执行具有性能和安全的隐患。
    
在开发阶段这是一个非常好的选项，在生产阶段则一定要不开启这个选项。
    
cheap-module-eval-source-map:这是在打包文件时最快的生产source map的方法，生产的 Source map 会和打包后的JavaScript文件同行显示，没有影射列，和eval-source-map选项具有相似的缺点。
</code></pre></div><p>四种打包模式，有上到下打包速度越来越快，不过同时也具有越来越多的负面作用，</p> <p>较快的打包速度的后果就是对执行和调试有一定的影响。</p> <p>如果大型项目可以使用source-map</p> <p>如果是中小型项目使用eval-source-map就完全可以应对</p> <h2 id="简单的配置"><a href="#简单的配置" class="header-anchor">#</a> 简单的配置：</h2> <div class="language-js line-numbers-mode"><pre class="language-js"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
    devtool<span class="token operator">:</span> <span class="token string">'eval-source-map'</span><span class="token punctuation">,</span>
    entry<span class="token operator">:</span>  __dirname <span class="token operator">+</span> <span class="token string">&quot;/app/main.js&quot;</span><span class="token punctuation">,</span>
    output<span class="token operator">:</span> <span class="token punctuation">{</span>
        path<span class="token operator">:</span> __dirname <span class="token operator">+</span> <span class="token string">&quot;/public&quot;</span><span class="token punctuation">,</span>
        filename<span class="token operator">:</span> <span class="token string">&quot;bundle.js&quot;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h2 id="总结-3"><a href="#总结-3" class="header-anchor">#</a> 总结</h2> <p>调试在开发中也是必不可少的，但是一定要记得在上线前一定要修改webpack配置，在打出上线包。</p> <h1 id="实战技巧-开发和生产并行设置"><a href="#实战技巧-开发和生产并行设置" class="header-anchor">#</a> 实战技巧  开发和生产并行设置</h1> <p>这节详细讲讲用webapck开发和生产（或者说开发和上线）的那些事。</p> <p>依赖不同</p> <p>一个项目中是有开发环境和生产环境的，这两个环境的依赖也是不同的。</p> <div class="language- extra-class"><pre><code>开发依赖：只在开发中用来帮助你进行开发，简化代码或者生成兼容设置的以来包。你可以打开package.json来查看，devDependencies的下面的这些包为开发使用的包。这些包在生产环境中并没有用处。

生产依赖：就是比如我们的js使用了jquery，jquery的程序要在浏览器端起作用，也就是说我们最终的程序也需要这个包，这就是生产依赖。这些包在dependencies中。
</code></pre></div><p>npm安装</p> <p>假如我们要在项目中使用jquery库，这时候我们一般有三种安装方法，每种我都详细讲解一下。</p> <h2 id="第一种"><a href="#第一种" class="header-anchor">#</a> 第一种：</h2> <div class="language- extra-class"><pre><code>npm install jquery
</code></pre></div><p>package.json中并不存在这个包的依赖。</p> <p>项目就会无法正常运行</p> <h2 id="第二种"><a href="#第二种" class="header-anchor">#</a> 第二种：</h2> <div class="language- extra-class"><pre><code>npm n install jquery --save
</code></pre></div><p>安装完成后，它存在于package.json的dependencies中，也就是说它是生产环境需要依赖
的包（上线时需要的依赖包）。</p> <h2 id="第三种"><a href="#第三种" class="header-anchor">#</a> 第三种：</h2> <div class="language- extra-class"><pre><code>npm install jquery --save-dev
</code></pre></div><p>安装完成后，它存在于package.json的devDependencies中，也就是说它是开发环境中需要的，上线并不需要这个包的依赖。</p> <h2 id="安装全部项目依赖包"><a href="#安装全部项目依赖包" class="header-anchor">#</a> 安装全部项目依赖包：</h2> <div class="language- extra-class"><pre><code> npm install
</code></pre></div><h2 id="安装生产环境依赖包"><a href="#安装生产环境依赖包" class="header-anchor">#</a> 安装生产环境依赖包：</h2> <div class="language- extra-class"><pre><code> npm install --production
</code></pre></div><p>​</p> <h1 id="配置生产和开发并行"><a href="#配置生产和开发并行" class="header-anchor">#</a> 配置生产和开发并行</h1> <div class="language- extra-class"><pre><code>我们在以前的配置中设置了一个变量website，用于静态资源正确找到路径。

那如果生产环境和开发环境不一样，而且我们需要来回切换，这时候我们需要更好的设置方法。
</code></pre></div><div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> website<span class="token operator">=</span><span class="token punctuation">{</span>
    publicPath<span class="token operator">:</span><span class="token string">&quot;http://192.168.0.104:1717/&quot;</span>
<span class="token punctuation">}</span>   
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h1 id="修改package-json命令"><a href="#修改package-json命令" class="header-anchor">#</a> 修改package.json命令</h1> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token string">&quot;scripts&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string">&quot;server&quot;</span><span class="token operator">:</span> <span class="token string">&quot;webpack-dev-server --open&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;dev&quot;</span><span class="token operator">:</span><span class="token string">&quot;set type=dev&amp;webapck&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;build&quot;</span><span class="token operator">:</span> <span class="token string">&quot;set type=build&amp;webpack&quot;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h1 id="修改webpack-config-js文件"><a href="#修改webpack-config-js文件" class="header-anchor">#</a> 修改webpack.config.js文件</h1> <p>可以利用node的语法来读取type的值</p> <p>然后根据type的值用if–else判断。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">if</span><span class="token punctuation">(</span>process<span class="token punctuation">.</span>env<span class="token punctuation">.</span>type<span class="token operator">==</span> <span class="token string">&quot;build&quot;</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">var</span> website<span class="token operator">=</span><span class="token punctuation">{</span>
        publicPath<span class="token operator">:</span><span class="token string">&quot;http://192.168.0.104:1717/&quot;</span>
    <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>
        <span class="token keyword">var</span> website<span class="token operator">=</span><span class="token punctuation">{</span>
            publicPath<span class="token operator">:</span><span class="token string">&quot;http://cdn.jspang.com/&quot;</span>
        <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>如果你说我想看一下传过来的值到底是什么？可以用下面的输出语句。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> <span class="token function">encodeURIComponent</span><span class="token punctuation">(</span>process<span class="token punctuation">.</span>env<span class="token punctuation">.</span>type<span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h1 id="实战技巧-webpack模块化配置"><a href="#实战技巧-webpack模块化配置" class="header-anchor">#</a> 实战技巧  webpack模块化配置</h1> <h2 id="js中的模块化实现"><a href="#js中的模块化实现" class="header-anchor">#</a> JS中的模块化实现</h2> <div class="language-js line-numbers-mode"><pre class="language-js"><code> <span class="token keyword">function</span> <span class="token function">jspang</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
 	<span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'jspang.com:'</span><span class="token operator">+</span><span class="token string">'webpack'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token punctuation">}</span>
 module<span class="token punctuation">.</span>exports<span class="token operator">=</span>jspang<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h2 id="module-exports进行暴露出去。"><a href="#module-exports进行暴露出去。" class="header-anchor">#</a> module.exports进行暴露出去。</h2> <p>然后我们在入口文件中用import进行引入，并进行使用。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">import</span> jspang <span class="token keyword">from</span> <span class="token string">'./jspang.js'</span><span class="token punctuation">;</span>
<span class="token function">jspang</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h1 id="webpack模块"><a href="#webpack模块" class="header-anchor">#</a> Webpack模块</h1> <p>webpack.config.js中的entry入口文件进行模块化设置，单独拿出来制作成一个模块。</p> <p>根目录，新建一个webpack_config文件夹，然后新建entry_webpack.js文件，代码如下：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>entry_webpack<span class="token punctuation">.</span>js
<span class="token comment">//声明entry变量</span>
<span class="token keyword">const</span> entry <span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>  
<span class="token comment">//声明路径属性</span>
entry<span class="token punctuation">.</span>path<span class="token operator">=</span><span class="token punctuation">{</span>
	entry<span class="token operator">:</span><span class="token string">'./src/entry.js'</span>  
<span class="token punctuation">}</span>
<span class="token comment">//进行模块化</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span>entry<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h2 id="在webpack-config-js中引入"><a href="#在webpack-config-js中引入" class="header-anchor">#</a> 在webpack.config.js中引入</h2> <div class="language- extra-class"><pre><code>const entry = require(&quot;./webpack_config/entry_webpack.js&quot;)
</code></pre></div><h2 id="修改入口文件"><a href="#修改入口文件" class="header-anchor">#</a> 修改入口文件</h2> <div class="language- extra-class"><pre><code>entry:entry.path,
</code></pre></div><h1 id="实战技巧-打包第三方类库"><a href="#实战技巧-打包第三方类库" class="header-anchor">#</a> 实战技巧 打包第三方类库</h1> <h2 id="安装jquery"><a href="#安装jquery" class="header-anchor">#</a> 安装JQuery</h2> <div class="language- extra-class"><pre><code>npm install --save jquery
</code></pre></div><p>安装时需要注意的时Jquery最终要在生产环境中使用，所以我们这里要使用–save进行安装。</p> <h2 id="修改entry-js文件"><a href="#修改entry-js文件" class="header-anchor">#</a> 修改entry.js文件</h2> <p>安装好后，还需要引入到我们的entry.js中，这里直接使用import进行引入就可以。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">import</span> $ <span class="token keyword">from</span> <span class="token string">'jquery'</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>因为jquery的包是在node_modules里的，
只要写一个包名jquery，系统会自动为我们查找的。</p> <p>webpack并不会重复打包，它只给我们打包一次。</p> <h1 id="用plugin引入"><a href="#用plugin引入" class="header-anchor">#</a> 用plugin引入</h1> <p>ProvidePlugin是一个webpack自带的插件，Provide的意思就是装备、提供。
因为ProvidePlugin是webpack自带的插件，所以要先再webpack.config.js中引入webpack</p> <div class="language- extra-class"><pre><code>constc  webpack = require('webpack');
</code></pre></div><h2 id="注意"><a href="#注意" class="header-anchor">#</a> 注意</h2> <div class="language- extra-class"><pre><code>在webpack.config.js里引入必须使用require
</code></pre></div><p>引入成功后配置我们的plugins模块，代码如下。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>plugins<span class="token operator">:</span><span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>ProvidePlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        $<span class="token operator">:</span><span class="token string">&quot;jquery&quot;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">]</span><span class="token punctuation">,</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>这是一种全局的引入，在实际工作中也可以很好的规范项目所使用的第三方库。</p></div> <footer class="page-edit" style="display:none;"><!----> <!----></footer> <!----> <!----> <!----></main> <!----></div></div></div></div><div class="global-ui"><div class="back-to-ceiling" style="right:1rem;bottom:6rem;width:2.5rem;height:2.5rem;border-radius:.25rem;line-height:2.5rem;display:none;" data-v-c6073ba8 data-v-c6073ba8><svg t="1574745035067" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5404" class="icon" data-v-c6073ba8><path d="M526.60727968 10.90185116a27.675 27.675 0 0 0-29.21455937 0c-131.36607665 82.28402758-218.69155461 228.01873535-218.69155402 394.07834331a462.20625001 462.20625001 0 0 0 5.36959153 69.94390903c1.00431239 6.55289093-0.34802892 13.13561351-3.76865779 18.80351572-32.63518765 54.11355614-51.75690182 118.55860487-51.7569018 187.94566865a371.06718723 371.06718723 0 0 0 11.50484808 91.98906777c6.53300375 25.50556257 41.68394495 28.14064038 52.69160883 4.22606766 17.37162448-37.73630017 42.14135425-72.50938081 72.80769204-103.21549295 2.18761121 3.04276886 4.15646224 6.24463696 6.40373557 9.22774369a1871.4375 1871.4375 0 0 0 140.04691725 5.34970492 1866.36093723 1866.36093723 0 0 0 140.04691723-5.34970492c2.24727335-2.98310674 4.21612437-6.18497483 6.3937923-9.2178004 30.66633723 30.70611158 55.4360664 65.4791928 72.80769147 103.21549355 11.00766384 23.91457269 46.15860503 21.27949489 52.69160879-4.22606768a371.15156223 371.15156223 0 0 0 11.514792-91.99901164c0-69.36717486-19.13165746-133.82216804-51.75690182-187.92578088-3.42062944-5.66790279-4.76302748-12.26056868-3.76865837-18.80351632a462.20625001 462.20625001 0 0 0 5.36959269-69.943909c-0.00994388-166.08943902-87.32547796-311.81420293-218.6915546-394.09823051zM605.93803103 357.87693858a93.93749974 93.93749974 0 1 1-187.89594924 6.1e-7 93.93749974 93.93749974 0 0 1 187.89594924-6.1e-7z" p-id="5405" data-v-c6073ba8></path><path d="M429.50777625 765.63860547C429.50777625 803.39355007 466.44236686 1000.39046097 512.00932183 1000.39046097c45.56695499 0 82.4922232-197.00623328 82.5015456-234.7518555 0-37.75494459-36.9345906-68.35043303-82.4922232-68.34111062-45.57627738-0.00932239-82.52019037 30.59548842-82.51086798 68.34111062z" p-id="5406" data-v-c6073ba8></path></svg></div><div class="kanbanniang" data-v-718783a5><div class="banniang-container" style="display:;" data-v-718783a5><div class="operation" style="bottom:60px;right:80px;display:;" data-v-718783a5><i class="kbnfont kbn-ban-home ban-home" data-v-718783a5></i> <i class="kbnfont kbn-ban-message message" data-v-718783a5></i> <i class="kbnfont kbn-ban-close close" data-v-718783a5></i> <i class="kbnfont kbn-ban-theme skin" style="display:none;" data-v-718783a5></i></div> <canvas id="banniang" width="200" height="400" class="live2d" style="position:fixed;right:70px;bottom:-20px;opacity:0.9;" data-v-718783a5></canvas></div> <div class="showBanNiang" style="display:none;" data-v-718783a5>
    青葉🌹
  </div></div><div class="reco-bgm-panel" data-v-5df2cde6><audio id="bgm" src="http://music.xf1433.com/up/view.php/83bf8ad3d55753b271d4105b37e7a28c.mp3" data-v-5df2cde6></audio> <div class="reco-float-box" style="bottom:200px;z-index:999999;display:none;" data-v-5df2cde6 data-v-3b8ac9b2 data-v-5df2cde6><img src="https://gitee.com/master0037/publicImg/raw/master/xiang.jpg" data-v-5df2cde6></div> <div class="reco-bgm-box" style="left:10px;bottom:10px;z-index:999999;" data-v-5df2cde6 data-v-3b8ac9b2 data-v-5df2cde6><div class="reco-bgm-cover" style="background-image:url(https://gitee.com/master0037/publicImg/raw/master/xiang.jpg);" data-v-5df2cde6><div class="mini-operation" style="display:none;" data-v-5df2cde6><i class="reco-bgm reco-bgm-pause" style="display:none;" data-v-5df2cde6></i> <i class="reco-bgm reco-bgm-play" style="display:none;" data-v-5df2cde6></i></div> <div class="falut-message" style="display:none;" data-v-5df2cde6>
          播放失败
        </div></div> <div class="reco-bgm-info" data-v-5df2cde6 data-v-3b8ac9b2 data-v-5df2cde6><div class="info-box" data-v-5df2cde6><i class="reco-bgm reco-bgm-music music" data-v-5df2cde6></i>色違いの翼</div> <div class="info-box" data-v-5df2cde6><i class="reco-bgm reco-bgm-artist" data-v-5df2cde6></i>色違いの翼</div> <div class="reco-bgm-progress" data-v-5df2cde6><div class="progress-bar" data-v-5df2cde6><div class="bar" data-v-5df2cde6></div></div></div> <div class="reco-bgm-operation" data-v-5df2cde6><i class="reco-bgm reco-bgm-last last" data-v-5df2cde6></i> <i class="reco-bgm reco-bgm-pause pause" style="display:none;" data-v-5df2cde6></i> <i class="reco-bgm reco-bgm-play play" data-v-5df2cde6></i> <i class="reco-bgm reco-bgm-next next" data-v-5df2cde6></i> <i class="reco-bgm reco-bgm-volume1 volume" data-v-5df2cde6></i> <i class="reco-bgm reco-bgm-mute mute" style="display:none;" data-v-5df2cde6></i> <div class="volume-bar" data-v-5df2cde6><div class="bar" data-v-5df2cde6></div></div></div></div> <div class="reco-bgm-left-box" data-v-5df2cde6 data-v-3b8ac9b2 data-v-5df2cde6><i class="reco-bgm reco-bgm-left" data-v-5df2cde6></i></div></div></div><canvas id="vuepress-canvas-ribbon"></canvas><canvas id="vuepress-canvas-cursor"></canvas><!----></div></div>
    <script src="/assets/js/app.60db5213.js" defer></script><script src="/assets/js/3.03a1a095.js" defer></script><script src="/assets/js/1.e1fdcf98.js" defer></script><script src="/assets/js/30.9622dc18.js" defer></script><script src="/assets/js/8.7fc5536e.js" defer></script>
  </body>
</html>
